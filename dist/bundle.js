(()=>{"use strict";function e(){const t=document.querySelectorAll(".tabheader__item"),n=document.querySelectorAll(".tabcontent");e={fitnessTabheader:"fitnessTabcontent",eliteTabheader:"eliteTabcontent",vegetarianTabheader:"vegetarianTabcontent",balanceTabheader:"balancedTabcontent"},t.forEach((o=>{o.addEventListener("click",(o=>{o.target.classList.add("tabheader__item_active"),t.forEach((e=>{e!==o.target&&e.classList.contains("tabheader__item_active")&&e.classList.remove("tabheader__item_active")})),n.forEach((e=>{e.classList.add("not_displayed")})),document.getElementById(e[o.target.id]).classList.remove("not_displayed")}))}))}const t=e;(function(){let e=document.querySelector("#weight"),t=document.querySelector("#height"),n=document.querySelector("#age");const o=document.querySelector("#gender").firstElementChild,c=document.querySelector(".calculating__result").querySelector("span"),l=[1.2,1.375,1.55,1.725,1.9];if(localStorage.getItem("weight")&&(e.value=localStorage.getItem("weight")),localStorage.getItem("height")&&(t.value=localStorage.getItem("height")),localStorage.getItem("age")&&(n.value=localStorage.getItem("age")),"male"===localStorage.getItem("gender")&&(o.classList.remove("calculating__choose-item_active"),o.nextElementSibling.classList.add("calculating__choose-item_active")),localStorage.getItem("activityType")){const e=Number(localStorage.getItem("activityType"));let t=0;for(let n of document.querySelector("#physicalActivityType").children)n.classList.remove("calculating__choose-item_active"),e===t&&n.classList.add("calculating__choose-item_active"),t++}localStorage.getItem("result")&&(c.innerText=localStorage.getItem("result"));const a=()=>{let e,t,n=0;for(let e of document.querySelector("#physicalActivityType").children){if(e.classList.contains("calculating__choose-item_active")){t=n;break}n++}let c=document.querySelector("#weight").value.replace(/[^0-9]/g,""),a=document.querySelector("#height").value.replace(/[^0-9]/g,""),s=document.querySelector("#age").value.replace(/[^0-9]/g,"");return localStorage.setItem("weight",c),localStorage.setItem("height",a),localStorage.setItem("age",s),localStorage.setItem("activityType",t),o.classList.contains("calculating__choose-item_active")?localStorage.setItem("gender","female"):localStorage.setItem("gender","male"),""===c||""===a||""===s?0:(e=o.classList.contains("calculating__choose-item_active")?(447.6+9.2*c+3.1*a-4.3*s)*l[t]:(88.36+13.4*c+4.8*a-5.7*s)*l[t],isNaN(e)?0:(localStorage.setItem("result",Math.round(e).toString()),Math.round(e)))};[t,e,n].forEach((e=>{e.addEventListener("input",(()=>{e.value=e.value.replace(/[^0-9]/g,""),c.innerText=a().toString()}))})),document.querySelectorAll(".calculating__choose-item").forEach((e=>{"height"!==e.id&&"weight"!==e.id&&"age"!==e.id&&e.addEventListener("click",(()=>{for(let t of e.parentElement.children)t.classList.remove("calculating__choose-item_active");e.classList.add("calculating__choose-item_active"),c.innerText=a().toString()}))}))})(),function(){const e=document.getElementById("menuCardsContainer");class t{constructor(e,t,n,o){this.image=e,this.name=t,this.description=n,this.price=o}render(){const t=document.createElement("div");t.classList.add("menu__item"),t.innerHTML=`<img src="${this.image}">\n                    <h3 class="menu__item-subtitle">${this.name}</h3>\n                    <div class="menu__item-descr">${this.description}</div>\n                    <div class="menu__item-divider"></div>\n                    <div class="menu__item-price">\n                        <div class="menu__item-cost">Цена:</div>\n                        <div class="menu__item-total"><span>${this.price}</span> грн/день</div>\n                    </div>`,e.append(t)}}let n;fetch("http://localhost:3000/menu",{method:"GET"}).then((e=>e.json())).then((e=>{n=e,(e=>{e.forEach((({img:e,title:n,descr:o,price:c})=>{new t(e,n,o,c).render()}))})(e)})).catch((e=>console.log(e)))}(),function(){const e=document.querySelectorAll("form");e.forEach((e=>{var t;(t=e).addEventListener("submit",(e=>{e.preventDefault();let n=document.createElement("img");n.classList.add("status"),n.src="img/spinner.svg",t.appendChild(n);let o=document.createElement("div");o.classList.add("modal__title"),o.classList.add("thanks");let c=document.createElement("div");c.classList.add("modal__close"),c.innerText="×";const l=new FormData(t),a=Object.fromEntries(l.entries());let s=document.querySelector(".modal__content");(async(e,t)=>{const n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await n})(0,a).then((e=>(console.log(e),e.status>=200&&e.status<300?(o.innerText="Спасибо! Скоро мы с вами свяжемся",t.reset(),setTimeout((()=>{n.remove()}),5e3)):o.innerText="Что-то пошло не так...",e.json()))).then((e=>{r.classList.add("not_displayed"),s.append(o)})).catch((e=>{console.log("An error occurred:"),console.log(e)})).finally((()=>{s.append(c)}));const r=document.getElementById("formCall")}))}))}(),function(){const e=()=>{document.getElementById("modalContact").style.display="block",clearTimeout(t)},t=setTimeout(e,5e3);document.getElementById("modalContactClose").addEventListener("click",(()=>{document.getElementById("modalContact").style.display="none"})),document.querySelectorAll(".btn_contact_us").forEach((t=>{t.addEventListener("click",(t=>{e()}))})),window.addEventListener("scroll",(function t(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&(e(),window.removeEventListener("scroll",t))})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(document.querySelector(".modal").style.display="none")})),document.addEventListener("click",(e=>{e.target.classList.contains("modal__close")&&(document.querySelector("#formCall").reset(),document.getElementById("formCall").classList.remove("not_displayed"),document.querySelector(".modal").style.display="none",document.querySelector(".thanks")&&document.querySelector(".thanks").remove(),document.querySelector(".status")&&document.querySelector(".status").remove())}))}(),function(){const e=e=>(e<10?"0":"")+e;fetch("http://localhost:3000/slides",{method:"GET"}).then((e=>e.json())).then((e=>{a(e)})).catch((e=>console.log(e)));const t=document.querySelector(".offer__slider-next"),n=document.querySelector(".offer__slider-prev"),o=document.querySelector(".offer__slider-wrapper");o.style.display="flex",o.style.overflow="hidden";const c=document.createElement("ul"),l=e=>{for(let e of c.children)e.style.opacity="0.5";c.children[e].style.opacity="0.9"},a=a=>{let s=[];c.classList.add("carousel-indicators"),a.src.forEach(((e,t)=>{const n=document.createElement("li");n.classList.add("dot"),n.addEventListener("click",(e=>{s.forEach(((e,t)=>{e.style.opacity="0.5"})),n.style.opacity="0.9"})),s.push(n),c.append(n)})),o.append(c);const r=document.querySelector("#current");r.innerText=e(1),document.querySelector("#total").innerText=e(a.src.length);let i=document.querySelector(".offer__slide");i.style.display="flex",s[0].style.opacity="0.9",a.src.forEach((e=>{const t=document.createElement("div"),n=document.createElement("img");t.classList.add("just__slide"),n.src=e,t.append(n),i.append(t)})),o.append(i);const d=i.firstElementChild.cloneNode(!0),m=i.lastElementChild.cloneNode(!0);i.append(d),i.prepend(m);let u=document.querySelectorAll(".just__slide"),g=1,h=u[g].clientWidth;i.style.transform=`translateX(${-h*g}px)`,i.addEventListener("transitionend",(()=>{i=document.querySelector(".offer__slide"),g>a.src.length&&(i.style.transition="none",i.style.transform=`translateX(${-h}px)`,g=1),g<=0&&(i.style.transition="none",i.style.transform=`translateX(${-h*a.src.length}px)`,g=a.src.length),r.innerText=e(g)})),t.addEventListener("click",(t=>{i=document.querySelector(".offer__slide"),g>a.src.length||(g++,i.style.transition="0.5s",i.style.transform=`translateX(${-h*g}px)`,g>a.src.length?l(0):(r.innerText=e(g),l(g-1)))})),n.addEventListener("click",(t=>{i=document.querySelector(".offer__slide"),g<1||(g--,i.style.transition="0.5s",i.style.transform=`translateX(${-h*g}px)`,g<1?l(a.src.length-1):(r.innerText=e(g),l(g-1)))}))}}(),t(),function(){const e=new Date(2021,2,20,0,0,0),t=setInterval((()=>{const n=new Date;let o=e-n;o<=999&&clearInterval(t);const c=Math.floor(o/864e5),l=Math.floor(o%864e5/36e5),a=Math.floor(o%36e5/6e4),s=Math.floor(o%6e4/1e3);document.getElementById("days").innerText=c.toString(),document.getElementById("hours").innerText=l.toString(),document.getElementById("minutes").innerText=a.toString(),document.getElementById("seconds").innerText=s.toString()}),1e3)}()})();
//# sourceMappingURL=bundle.js.map